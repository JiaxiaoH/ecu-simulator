# ğŸ‡¬ğŸ‡§ ECU Simulator 
**ECU Simulator** r is a  **Python** -based and extensible **UDS (ISO 14229) diagnostic ECU emulator**.
The project currently supports common UDS services, session management, security access, configurable DID/RID definitions, and virtual CAN communication.

---

## ğŸŒ Languages

[English](README.md) | [ä¸­æ–‡](README.zh-CN.md) | [æ—¥æœ¬èª](README.ja.md)

---

# ğŸš— Overview

This project aims to build a general-purpose ECU simulation platform with the following core goals:

- **Configurable**ï¼šAdd or remove DID/RID through configuration files
- **Extensible**ï¼šIntegrate custom functions or logic
- **Close to production ECUs**ï¼šSimulate realistic ECU behavior
- **Easy to operate**ï¼šIncludes a GUI-based tester for quick diagnostics

Suitable forï¼š

- ECU software developers
- Diagnostic test engineers (black-box / white-box)
- Python tool/script developers
- UDS learners
- Automated test platform development

---

# âœ¨ Features

### ğŸŸ¦ Diagnostic Services
The simulator supports the following common UDS services:

- 0x10 Diagnostic Session Control
- 0x11 ECU Reset
- 0x14 Clear Diagnostic Information
- 0x19 Read DTC Information
- 0x22 Read Data By Identifier
- 0x27 Security Access
- 0x28 Communication Control
- 0x29 Authentication
- 0x2E Write Data By Identifier
- 0x31 Routine Control
- 0x3E Tester Present
- 0x85 Control DTC Setting

SID modules are automatically scanned and registered.
You can add new services simply by following the filename convention.

---

### ğŸŸ© Configuration-Driven DID/RID

DID/RID definitions are driven by YAML/JSON config files.
The following types are supported:
- Static DID: returns fixed values defined in config
- Function DIDï¼šreturns dynamic values generated by callback functions
- Composite DIDï¼šcombines multiple static/dynamic fields into a structured DID response

---

### ğŸŸ¨ GUI Interfaceï¼ˆTkinterï¼‰

A simple built-in GUI provides:
- Real-time TX/RX message display
- Visualization of ECU states (Session, Security, DTC, etc.)
- Simulate wake-up/sleep, vehicle conditions, power state
- Dynamic CAN message logging
- Integrated tester allowing manual input or selection from preset menus
---

### ğŸŸª Virtual CAN Bus Support

- Uses python-can VirtualBus
- No physical CAN hardware required
- Fully reproducible and replayable behavior

---

# ğŸ§© Project Structure

---

# âš™ï¸ Installation

### 1ï¸âƒ£ Clone the repository
```
git clone https://github.com/JiaxiaoH/ecu-simulator.git
cd ecu-simulator-main
```

---

### 2ï¸âƒ£ Install dependencies
```
pip install -r requirements.txt
```

---

# ğŸš€ Usage

### 1ï¸âƒ£ Start the ECU simulator
```
python main.py
```

### 2ï¸âƒ£ Adjust ECU states
```
Simulate power ON/OFF, vehicle running conditions, and update DTCs.
```

### 3ï¸âƒ£ Send diagnostic messages
```
Double-click the input area or type manually to send CAN messages from the tester.
```

### 4ï¸âƒ£ Check ECU responses
```
Use the GUI to observe the ECU's diagnostic responses.
```
---

# ğŸ“„ Example (SID 10)

Request:
```
10 03
```

Responseï¼š
```
50 03 00 32 01 F4
```

---

# ğŸ§‘â€ğŸ’» Development Notes

You can extend the simulator by:

- Adding new SID handlers 
- Adding new DID/RID definitions

---

# ğŸ“ License

MIT License
